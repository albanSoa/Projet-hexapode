#Code Arduino Alban

#include <Servo.h>

Servo servos[12];

void setup() {
  Serial.begin(9600);

  // Attacher les 12 servos aux broches 2 à 19
  for (int i = 0; i < 18; i++) {
    servos[i].attach(i + 3);
  }
}

void loop() {
  if (Serial.available()) {
    String command = Serial.readStringUntil('\n');
    command.trim();

    if (command == "coucou") {
      for (int i = 0; i < 3; i++) {
        // Patte 1 uniquement (servos 0, 1, 2)
        servos[1].write(80); // coude

        servos[2].write(60);  // poignet
        delay(300);
        servos[1].write(70);
 
        servos[2].write(80);
        delay(300);
      }

      // Retour à la position neutre
      servos[0].write(90);
      servos[1].write(30);
      servos[2].write(90);
    }
    if (command == "Position initiale") {
        // Patte 1 uniquement (servos 0, 1, 2)
        servos[0].write(80); // coude
        servos[1].write(35);  // poignet
        servos[2].write(70); // épaule
        
        // Patte 2 uniquement (servos 0, 1, 2)
        servos[3].write(20);  // poignet
        servos[4].write(80); // coude
        servos[5].write(20);  // épaule

        // Patte 3 uniquement (servos 0, 1, 2)
        servos[6].write(80); // coude
        servos[7].write(20);  // poignet
        servos[8].write(80); // épaule

        // Patte 4 uniquement (servos 0, 1, 2)
        servos[9].write(20);  // poignet
        servos[10].write(80); // coude
        servos[11].write(20);  // épaule

        // Patte 5 uniquement (servos 0, 1, 2)
        servos[12].write(80); // coude
        servos[13].write(20);  // poignet
        servos[14].write(80); // épaule

        // Patte 6 uniquement (servos 0, 1, 2)
        servos[15].write(20);  // poignet
        servos[16].write(80); // coude
        servos[17].write(20);  // épaule
      }
   if (command == "Oscille") {
    for (int i = 0; i < 3; i++) {
        servos[1].write(0); // coude
        servos[2].write(0);  // poignet
        delay(100);
        servos[1].write(100);
        servos[2].write(50);
    }
   }
  if (command == "Tremble") {
    for (int i = 0; i < 15; i = i + 1) {
        servos[1].write(20); // coude
        servos[2].write(85);  // poignet
        delay(10);
    }
   }
 } 
}
